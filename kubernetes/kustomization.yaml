apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - flask-deployment.yaml
  - nginx-configmap.yaml
  - app-deployment.yaml
  - app-service.yaml

secretGenerator:
  - name: nginx-ssl-secret
    type: kubernetes.io/tls
    literals:
      - tls.crt=${TLS_CRT}
      - tls.key=${TLS_KEY}

# files:
#       - tls.crt=cert-bundle.crt
#       - tls.key=private.key test